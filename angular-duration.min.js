angular.module("angularDuration",[]).service("TimeParser",function(){"use strict";var a={secondsInAYear:31536e3,secondsInADay:86400,secondsInAnHour:3600,inSeconds:function(a){return Math.round(a/1e3)},pluralize:function(a,b){return" "+(b>1?a+"s":a)},years:function(b){return Math.floor(a.inSeconds(b)/a.secondsInAYear)},months:function(b){return Math.floor(a.inSeconds(b)%a.secondsInAYear/(30*a.secondsInADay))},weeks:function(b){return Math.floor(a.inSeconds(b)%a.secondsInAYear/(7*a.secondsInADay))},days:function(b){return Math.floor(a.inSeconds(b)%a.secondsInAYear/a.secondsInADay)},hours:function(b){return Math.floor(a.inSeconds(b)%a.secondsInAYear%a.secondsInADay/a.secondsInAnHour)},minutes:function(b){return Math.floor(a.inSeconds(b)%a.secondsInAYear%a.secondsInADay%a.secondsInAnHour/60)},seconds:function(b){return a.inSeconds(b)%a.secondsInAYear%a.secondsInADay%a.secondsInAnHour%60},duration:function(b){return{years:a.years(b),months:a.months(b),weeks:a.weeks(b),days:a.days(b),hours:a.hours(b),minutes:a.minutes(b),seconds:a.seconds(b)}},durationString:function(b){var c=a.duration(b);return c.years?a.withYear(c):c.months?a.withMonths(c):c.weeks?a.withWeeks(c):c.days?a.withDays(c):c.hours?a.withHours(c):c.minutes?a.withMinutes(c):"Less than a minute"},withYear:function(b){return b.years+a.pluralize("year",b.years)+(b.months?", "+a.withMonths(b,!0):b.weeks?", "+a.withWeeks(b,!0):b.days?", "+a.withDays(b,!0):"")},withMonths:function(b,c){return b.months+a.pluralize("month",b.months)+(b.days%30&&!c?", "+a.withDays(b,!0,"months"):"")},withWeeks:function(b,c){return b.weeks+a.pluralize("week",b.weeks)+(b.days%7&&!c?", "+a.withDays(b,!0,"weeks"):"")},withDays:function(b,c,d){var e=b.days%("months"===d?30:7);return e+a.pluralize("day",e)+(b.hours&&!c?", "+a.withHours(b,!0):"")},withHours:function(b,c){return b.hours+a.pluralize("hour",b.hours)+(b.minutes&&!c?", "+a.withMinutes(b):"")},withMinutes:function(b){return b.minutes+a.pluralize("minute",b.minutes)}};return a}).directive("duration",["TimeParser",function(a){"use strict";return{restrict:"AEC",link:function(b,c,d){b.$watch(d.duration,function(b){b&&b>0&&c.html(a.durationString(b))})}}}]);